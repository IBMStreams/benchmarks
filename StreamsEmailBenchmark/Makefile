#
# Generated by InfoSphere Streams Studio
#
.PHONY: all clean

#
# Project Settings
SPLC_TOOLKIT_PATH = -t ../StreamsAvroOperators/
SPLC_OUTPUT_DIR = "output"
SPLC_DATA_DIR = "data"

DEBUG_CODE = "no"
WORD_COUNT = "100000"
WORD_LENGTH = "15"
MUL_FS = "yes"
JUNK_SIZE = "100000"
SPLC_MM_ARGS_MAIN.SPLMM = "${PARALLELISM}" ${DEBUG_CODE} ${WORD_COUNT} ${WORD_LENGTH} ${MUL_FS} ${JUNK_SIZE}

#
# Main Composite: Main
SPLC_MAIN_COMPOSITE__MAIN = Main
SPLC_TARGET__MAIN = Main
SPLC_TARGET__MAIN_CLEAN = Main-clean

#
# Main Composite: Main
# Build Configuration: Distributed
# Active: true
SPLC_BUILDCONFIG__MAIN__DISTRIBUTED = Distributed
SPLC_FLAGS__MAIN__DISTRIBUTED =  --output-directory="output/Main/Distributed" --data-directory="data"
SPLC_ARGS__MAIN__DISTRIBUTED = 
SPLC_TARGET__MAIN__DISTRIBUTED = Main-Distributed
SPLC_TARGET__MAIN__DISTRIBUTED_CLEAN = Main-Distributed-clean

#
# InfoSphere Streams
SPLC = $(STREAMS_INSTALL)/bin/sc -a
SPLC_INDEXER = $(STREAMS_INSTALL)/bin/spl-make-toolkit
SPLC_TOOLKIT_XML = toolkit.xml
SPLC_NO_TK = --no-toolkit-indexing
SPLC_MODEL_ERRORS = --verbose-model-errors

#
# Targets
#
all: $(SPLC_TOOLKIT_XML) $(SPLC_TARGET__MAIN) 


clean: $(SPLC_TARGET__MAIN_CLEAN) 


$(SPLC_TARGET__MAIN): $(SPLC_TOOLKIT_XML) $(SPLC_TARGET__MAIN__DISTRIBUTED) $(SPLC_MM_ARGS_MAIN.SPLMM)


$(SPLC_TARGET__MAIN_CLEAN): $(SPLC_TOOLKIT_XML) $(SPLC_TARGET__MAIN__DISTRIBUTED_CLEAN) 


#
# Main Composite: Main
# Build Configuration: Distributed
$(SPLC_TARGET__MAIN__DISTRIBUTED): $(SPLC_TOOLKIT_XML)
	$(SPLC) $(SPLC_FLAGS__MAIN__DISTRIBUTED) -M $(SPLC_MAIN_COMPOSITE__MAIN) $(SPLC_TOOLKIT_PATH) $(SPLC_NO_TK) $(SPLC_ARGS__MAIN__DISTRIBUTED)

$(SPLC_TARGET__MAIN__DISTRIBUTED_CLEAN): $(SPLC_TOOLKIT_XML)
	$(SPLC) $(SPLC_FLAGS__MAIN__DISTRIBUTED) -C -M $(SPLC_MAIN_COMPOSITE__MAIN) $(SPLC_TOOLKIT_PATH) $(SPLC_NO_TK) $(SPLC_ARGS__MAIN__DISTRIBUTED)


#
# Toolkit index
$(SPLC_TOOLKIT_XML): 
	$(SPLC_INDEXER) -i . $(SPLC_MODEL_ERRORS) $(SPLC_MM_ARGS_MAIN.SPLMM)


